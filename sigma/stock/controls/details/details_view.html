<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Stream Mustache Demo</title>
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
</head>
<body>
	<div id="detailsContainer"></div></br>
	<div id="replyContainer"></div></br>
	<div id="drillDownContainer"></div>
    	<script type='text/javascript' src='../../../../steal/steal.js'></script>
</body>
</html>

<script type="text/javascript">

	steal(
		'sigma/lib'
	,	'sigma/lib/style.js'
	,	'sigma/lib/hypermedia.js'
	,	'canui/list'
	,	'can/view/mustache'
	).then(
		'sigma/stock/controls/details/details_view_adapters.js'
	,	'sigma/stock/controls/details/fixtures.js'
	,	'sigma/stock/controls/details/details.js'
	,	'sigma/stock/controls/details/drilldown.js'
	,	'sigma/stock/controls/details/comments.js'
	).then(

		function()
		{
		
			Sigma.HypermediaContainer(
				'Sigma.Hypermedia.DetailsView.Container'
			,	{
					defaults:
					{
						media_types:
						{
							'details':
							{
								Handler: Sigma.Hypermedia.Details
							,	options:
								{
									target: 'details'
								}
							}
						,	'drilldown':
							{
								Handler: Sigma.Hypermedia.DrillDown
							,	options:
								{
									target: 'drilldown'
								}
							}
						,	'reply':
							{
								Handler: Sigma.Hypermedia.Comments
							,	options:
								{
									target: 'comments'
								}
							}
						}
					}
				}
			,	{
				}
			)

			new Sigma.Hypermedia.DetailsView.Container(
				$('#detailsContainer')
			,	{
					id:'Details'
				,	target: 'Details'
				,	slot: Sigma.Model.HAL.Resource.Details.getRoot(1)
				}
			)

			new Sigma.Hypermedia.DetailsView.Container(
				$('#replyContainer')
			,	{
					id:'Reply'
				,	target: 'Reply'
				,	slot: Sigma.Model.HAL.Resource.Comments.getRoot(1)
				}
			)

			new Sigma.Hypermedia.DetailsView.Container(
				$('#drillDownContainer')
			,	{
					id:'DrillDown'
				,	target: 'DrillDown'
				,	slot: Sigma.Model.HAL.Resource.DrillDown.getRoot(1)
				}
			)
		}

	)

</script>